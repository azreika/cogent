type Option a = <Some a | None>

type A = {f1 : Obj, f2 : U8}
type Obj

free : Obj -> ()

foo : Option A -> Option (A take (..))
foo | Some a -> let a_t {f1,f2} = a
                and _ = free f1
                in Some a_t
    | none -> none
